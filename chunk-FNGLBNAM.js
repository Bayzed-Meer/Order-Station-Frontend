import{a as q,b as B}from"./chunk-S3ZSZV2M.js";import{a as N}from"./chunk-7L7EPVI3.js";import"./chunk-5CPZFERK.js";import"./chunk-52WVDKS5.js";import{a as O}from"./chunk-XQBHGYW6.js";import"./chunk-NVKAPNCC.js";import{A as x,Oa as F,Ta as k,Ua as T,Wa as L,Ya as I,ab as z,bb as A,cb as R,db as j}from"./chunk-GDU7S5Q3.js";import{$b as c,Ba as v,Bb as r,Cb as s,D as w,Ec as D,Hb as y,Kb as a,Mb as u,Ub as m,W as M,Wa as C,da as _,ha as d,p as h,pb as b,ra as E,rb as f,sa as S,wb as U,za as P,zc as V}from"./chunk-MQN73C4F.js";var H=(()=>{let t=class t{constructor(){this.filter="",this.users=[],this.deleteUserEvent=new v}};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d({type:t,selectors:[["app-staffs-list"]],inputs:{filter:"filter",users:"users"},outputs:{deleteUserEvent:"deleteUserEvent"},standalone:!0,features:[c],decls:1,vars:2,consts:[[3,"deleteUserEvent","users","filter"]],template:function(e,n){e&1&&(r(0,"app-users-list",0),a("deleteUserEvent",function(p){return n.deleteUserEvent.emit(p)}),s()),e&2&&f("users",n.users)("filter",n.filter)},dependencies:[q]});let i=t;return i})();var J=(()=>{let t=class t{constructor(){this.filter="",this.users=[],this.deleteUserEvent=new v}};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d({type:t,selectors:[["app-staffs-card"]],inputs:{filter:"filter",users:"users"},outputs:{deleteUserEvent:"deleteUserEvent"},standalone:!0,features:[c],decls:1,vars:2,consts:[[3,"deleteUserEvent","users","filter"]],template:function(e,n){e&1&&(r(0,"app-users-card",0),a("deleteUserEvent",function(p){return n.deleteUserEvent.emit(p)}),s()),e&2&&f("users",n.users)("filter",n.filter)},dependencies:[B]});let i=t;return i})();function K(i,t){if(i&1){let l=y();r(0,"app-staffs-list",11),a("deleteUserEvent",function(e){E(l);let n=u();return S(n.handleDeleteUser(e))}),s()}if(i&2){let l=u();f("filter",l.filter)("users",l.staffs)}}function Q(i,t){if(i&1){let l=y();r(0,"app-staffs-card",11),a("deleteUserEvent",function(e){E(l);let n=u();return S(n.handleDeleteUser(e))}),s()}if(i&2){let l=u();f("filter",l.filter)("users",l.staffs)}}var ye=(()=>{let t=class t{constructor(){this.adminService=_(N),this.destroyRef=_(P),this.dialog=_(F),this.filter="",this.isListView=!1,this.staffs=[]}ngOnInit(){this.loadAllstaffs()}loadAllstaffs(){this.adminService.getAllStaffs().pipe(M(o=>this.staffs=o),w(o=>(console.log("Error fetching staffs",o),h([]))),x(this.destroyRef)).subscribe()}handleDeleteUser(o){this.adminService.deleteStaff(o.id).pipe(M(e=>{this.loadAllstaffs(),O(this.dialog,e.message,"close"),console.log("Staff deletion successful")}),w(e=>(console.log("Error deleting staff",e),O(this.dialog,e.error.message,"close"),h(null))),x(this.destroyRef)).subscribe()}applyFilter(o){this.filter=o.target.value.trim().toLowerCase()}toggleView(){this.isListView=!this.isListView}};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d({type:t,selectors:[["app-staff"]],standalone:!0,features:[c],decls:24,vars:3,consts:[[1,"container"],[1,"title"],[1,"search-container"],[1,"search-field"],["matIconPrefix",""],["matInput","",1,"input-field",3,"keyup"],[1,"view-controls"],[1,"views-label"],[1,"view-buttons"],["mat-icon-button","",1,"view-button",3,"click","ngClass"],[3,"filter","users"],[3,"deleteUserEvent","filter","users"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"mat-icon"),m(3,"people"),s(),m(4," All Staffs "),s(),r(5,"div",2)(6,"mat-form-field",3)(7,"mat-icon",4),m(8,"filter_alt"),s(),r(9,"mat-label"),m(10,"Filter"),s(),r(11,"input",5),a("keyup",function(p){return n.applyFilter(p)}),s()(),r(12,"div",6)(13,"div",7),m(14,"Views"),s(),r(15,"div",8)(16,"button",9),a("click",function(){return n.toggleView()}),r(17,"mat-icon"),m(18,"view_module"),s()(),r(19,"button",9),a("click",function(){return n.toggleView()}),r(20,"mat-icon"),m(21,"view_list"),s()()()()(),b(22,K,1,2,"app-staffs-list",10)(23,Q,1,2,"app-staffs-card",10),s()),e&2&&(C(16),f("ngClass",n.isListView?"":"active"),C(3),f("ngClass",n.isListView?"active":""),C(3),U(n.isListView?22:23))},dependencies:[A,z,L,I,H,j,R,J,T,k,D,V],styles:[".container[_ngcontent-%COMP%]{padding:1.5rem 2rem}.title[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:1rem;background-color:#024988;color:#f0eeee;font-size:1.25rem;gap:.5rem;padding:.5rem;font-weight:500}.search-container[_ngcontent-%COMP%]{display:flex}.search-field[_ngcontent-%COMP%]{width:94%;margin-right:.5rem}.input-field[_ngcontent-%COMP%]{width:100%}.view-controls[_ngcontent-%COMP%]{width:6%;display:flex;flex-direction:column;align-items:center}.views-label[_ngcontent-%COMP%]{font-size:1rem;font-weight:500;color:#025dad}.view-buttons[_ngcontent-%COMP%]{display:flex;gap:.25rem;color:#025dad}.view-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;border:none;background-color:transparent;cursor:pointer}.active[_ngcontent-%COMP%]{background-color:#cecece}@media (max-width: 480px){.container[_ngcontent-%COMP%]{padding:1rem 1.75rem}.title[_ngcontent-%COMP%]{font-size:.875rem;padding:.25rem;gap:.25rem}.search-field[_ngcontent-%COMP%]{width:80%}.view-controls[_ngcontent-%COMP%]{width:20%}.views-label[_ngcontent-%COMP%]{font-size:.875rem}}@media (min-width: 481px) and (max-width: 768px){.container[_ngcontent-%COMP%]{padding:1rem 1.5rem}.title[_ngcontent-%COMP%]{font-size:1rem;padding:.25rem;gap:.25rem}.search-field[_ngcontent-%COMP%]{width:89%}.view-controls[_ngcontent-%COMP%]{width:11%}.views-label[_ngcontent-%COMP%]{font-size:.875rem}}@media (min-width: 769px) and (max-width: 1024px){.container[_ngcontent-%COMP%]{padding:1.25rem 1.5rem}.title[_ngcontent-%COMP%]{font-size:1rem;padding:.5rem;gap:.5rem}.search-field[_ngcontent-%COMP%]{width:90%}.view-controls[_ngcontent-%COMP%]{width:10%}.views-label[_ngcontent-%COMP%]{font-size:.875rem}}"]});let i=t;return i})();export{ye as StaffComponent};
