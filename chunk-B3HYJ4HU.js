import{a as mt}from"./chunk-PMC553EE.js";import{a as at}from"./chunk-BP3CJ4HI.js";import{a as k}from"./chunk-6GFOBDWL.js";import"./chunk-SWOLHGBV.js";import{a as q,b as V,c as G,d as J,e as K,f as L,g as W,h as X,i as Y,j as Z,k as tt,l as et,m as nt,n as h,o as it,p as y,q as ot,r as rt}from"./chunk-64TEYA7P.js";import"./chunk-2BGQ2KSS.js";import{Fa as U,Ga as B,Ha as F,ga as j,u as v}from"./chunk-YPECUWCB.js";import{$b as b,Bb as i,Bc as N,Cb as n,D as H,Db as _,Eb as l,Fb as d,Mb as A,Qb as M,Rb as x,Sb as S,Ub as o,Vb as c,W as O,Wa as a,Wb as I,Yb as Q,Zb as z,_b as P,da as g,ha as w,p as E,pb as m,qb as D,rb as u,wb as R,za as T,zc as $}from"./chunk-6L47HEBJ.js";var lt=()=>[5,10,25];function dt(t,e){t&1&&(i(0,"th",21),o(1,"Username"),n())}function ct(t,e){if(t&1&&(i(0,"td",22),o(1),n()),t&2){let r=e.$implicit;a(),c(r.username||"-")}}function pt(t,e){t&1&&(i(0,"th",21),o(1,"ID"),n())}function st(t,e){if(t&1&&(i(0,"td",22),o(1),n()),t&2){let r=e.$implicit;a(),c(r.employeeID||"-")}}function ft(t,e){t&1&&(i(0,"th",21),o(1,"Tea Quantity"),n())}function ut(t,e){if(t&1&&(i(0,"td",22),o(1),n()),t&2){let r=e.$implicit;a(),c(r.teaQuantity||"-")}}function _t(t,e){t&1&&(i(0,"th",23),o(1,"Tea Amount"),n())}function Ct(t,e){if(t&1&&(i(0,"td",22),o(1),n()),t&2){let r=e.$implicit;a(),c(r.teaAmount||"-")}}function gt(t,e){t&1&&(i(0,"th",21),o(1,"Coffee Quantity"),n())}function ht(t,e){if(t&1&&(i(0,"td",22),o(1),n()),t&2){let r=e.$implicit;a(),c(r.coffeeQuantity||"-")}}function yt(t,e){t&1&&(i(0,"th",23),o(1,"Coffee Amount"),n())}function Ot(t,e){if(t&1&&(i(0,"td",22),o(1),n()),t&2){let r=e.$implicit;a(),c(r.coffeeAmount||"-")}}function Mt(t,e){t&1&&(i(0,"th",23),o(1,"Notes"),n())}function xt(t,e){if(t&1&&(i(0,"td",22),o(1),n()),t&2){let r=e.$implicit;a(),c(r.notes||"-")}}function St(t,e){t&1&&(i(0,"th",21),o(1,"Room Number"),n())}function Pt(t,e){if(t&1&&(i(0,"td",22),o(1),n()),t&2){let r=e.$implicit;a(),c(r.roomNumber||"-")}}function bt(t,e){t&1&&(i(0,"th",21),o(1,"Created At"),n())}function vt(t,e){if(t&1&&(i(0,"td",22),o(1),P(2,"timesAgo"),n()),t&2){let r=e.$implicit;a(),c(b(2,1,r.createdAt))}}function Et(t,e){t&1&&(i(0,"th",21),o(1,"Order Status"),n())}function Ht(t,e){if(t&1&&(i(0,"td",22),o(1),P(2,"titlecase"),n()),t&2){let r=e.$implicit;a(),I(" ",b(2,1,r.orderStatus)," ")}}function wt(t,e){t&1&&(i(0,"div",25),_(1,"app-spinner"),n())}function Tt(t,e){t&1&&(i(0,"div",26)(1,"mat-icon"),o(2,"search_off"),n(),i(3,"div"),o(4,"No order history found"),n()())}function Dt(t,e){if(t&1&&(i(0,"tr",24)(1,"td"),m(2,wt,2,0,"div",25)(3,Tt,5,0,"div",26),n()()),t&2){let r=A();a(),D("colspan",r.displayedColumns.length),a(),R(r.loading?2:3)}}function Rt(t,e){t&1&&_(0,"tr",27)}function At(t,e){t&1&&_(0,"tr",28)}var ie=(()=>{let e=class e{constructor(){this.orderService=g(at),this.authService=g(k),this.destroyRef=g(T),this.role="",this.loading=!0,this.displayedColumns=[],this.dataSource=new nt}ngOnInit(){this.checkRole(),this.setUpTableColumn(),this.getOderHistory()}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}checkRole(){this.authService.getRole().pipe(O(p=>this.role=p),v(this.destroyRef)).subscribe()}setUpTableColumn(){this.displayedColumns=this.role!=="employee"?["username","id","teaQuantity","teaAmount","coffeeQuantity","coffeeAmount","notes","roomNumber","createdAt","orderStatus"]:["teaQuantity","teaAmount","coffeeQuantity","coffeeAmount","notes","roomNumber","createdAt","orderStatus"]}getOderHistory(){this.orderService.getOrderHistory().pipe(O(p=>{this.dataSource.data=p,this.loading=!1}),H(p=>(this.loading=!1,console.log(p),E([]))),v(this.destroyRef)).subscribe()}};e.\u0275fac=function(s){return new(s||e)},e.\u0275cmp=w({type:e,selectors:[["app-order-history"]],viewQuery:function(s,f){if(s&1&&(M(h,5),M(y,5)),s&2){let C;x(C=S())&&(f.paginator=C.first),x(C=S())&&(f.sort=C.first)}},standalone:!0,features:[Q],decls:41,vars:5,consts:[[1,"container"],[1,"title"],[1,"table-container"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","username"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","id"],["matColumnDef","teaQuantity"],["matColumnDef","teaAmount"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","coffeeQuantity"],["matColumnDef","coffeeAmount"],["matColumnDef","notes"],["matColumnDef","roomNumber"],["matColumnDef","createdAt"],["matColumnDef","orderStatus"],["class","no-data-row",4,"matNoDataRow"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page of orders",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],[1,"no-data-row"],[1,"spinner"],[1,"no-data-content"],["mat-header-row",""],["mat-row",""]],template:function(s,f){s&1&&(i(0,"div",0)(1,"div",1)(2,"mat-icon"),o(3,"history"),n(),o(4," Order History "),n(),i(5,"div",2)(6,"table",3),l(7,4),m(8,dt,2,0,"th",5)(9,ct,2,1,"td",6),d(),l(10,7),m(11,pt,2,0,"th",5)(12,st,2,1,"td",6),d(),l(13,8),m(14,ft,2,0,"th",5)(15,ut,2,1,"td",6),d(),l(16,9),m(17,_t,2,0,"th",10)(18,Ct,2,1,"td",6),d(),l(19,11),m(20,gt,2,0,"th",5)(21,ht,2,1,"td",6),d(),l(22,12),m(23,yt,2,0,"th",10)(24,Ot,2,1,"td",6),d(),l(25,13),m(26,Mt,2,0,"th",10)(27,xt,2,1,"td",6),d(),l(28,14),m(29,St,2,0,"th",5)(30,Pt,2,1,"td",6),d(),l(31,15),m(32,bt,2,0,"th",5)(33,vt,3,3,"td",6),d(),l(34,16),m(35,Et,2,0,"th",5)(36,Ht,3,3,"td",6),d(),m(37,Dt,4,2,"tr",17)(38,Rt,1,0,"tr",18)(39,At,1,0,"tr",19),n(),_(40,"mat-paginator",20),n()()),s&2&&(a(6),u("dataSource",f.dataSource),a(32),u("matHeaderRowDef",f.displayedColumns),a(),u("matRowDefColumns",f.displayedColumns),a(),u("pageSizeOptions",z(4,lt)))},dependencies:[et,q,G,W,J,V,X,K,L,Y,Z,tt,rt,y,ot,it,h,B,U,j,$,N,mt,F],styles:[".container[_ngcontent-%COMP%]{padding:1.5rem 2rem}.title[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:1rem;background-color:#024988;color:#f0eeee;font-size:1.25rem;padding:.5rem;gap:.5rem;font-weight:500}.table-container[_ngcontent-%COMP%]{box-shadow:0 .5rem 1rem #0000001a;padding:1rem;background-color:#fff}.table-container[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#024988;color:#fff}.table-container[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem}.table-container[_ngcontent-%COMP%]   mat-paginator[_ngcontent-%COMP%]{color:#000}.spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.no-data-row[_ngcontent-%COMP%]   .no-data-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:.25rem;font-size:1.25rem;font-weight:500;color:#025dad}@media (max-width: 480px){.container[_ngcontent-%COMP%]{padding:1rem 1.75rem}.title[_ngcontent-%COMP%]{margin-bottom:.5rem;font-size:.875rem;padding:.25rem;gap:.25rem}.table-container[_ngcontent-%COMP%]{padding:.5rem;overflow-x:auto}.table-container[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table-container[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:.75rem;padding:.5rem}.table-container[_ngcontent-%COMP%]   mat-paginator[_ngcontent-%COMP%]{font-size:.625rem}}@media (min-width: 481px) and (max-width: 768px){.container[_ngcontent-%COMP%]{padding:1.5rem}.title[_ngcontent-%COMP%]{margin-bottom:.75rem;font-size:1rem;padding:.25rem;gap:.5rem}.table-container[_ngcontent-%COMP%]{padding:.75rem;overflow-x:auto}.table-container[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table-container[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:.75rem;padding:.5rem}.table-container[_ngcontent-%COMP%]   mat-paginator[_ngcontent-%COMP%]{font-size:.625rem}}@media (min-width: 769px) and (max-width: 1024px){.container[_ngcontent-%COMP%]{padding:1.5rem}.title[_ngcontent-%COMP%]{margin-bottom:.75rem;font-size:1rem;padding:.25rem;gap:.5rem}.table-container[_ngcontent-%COMP%]{padding:.75rem;overflow-x:auto}.table-container[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table-container[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:.75rem;padding:.5rem}.table-container[_ngcontent-%COMP%]   mat-paginator[_ngcontent-%COMP%]{font-size:.75rem}}"]});let t=e;return t})();export{ie as OrderHistoryComponent};
