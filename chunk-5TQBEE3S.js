import{a as ne}from"./chunk-XZKW2XKR.js";import{a as U}from"./chunk-S34G7OME.js";import{a as Y,b as Z}from"./chunk-AGNVOT4A.js";import{a as y}from"./chunk-QS4TB3GR.js";import{a as ee,b as te}from"./chunk-DQVMZKPK.js";import{Aa as j,Fa as H,Ga as L,Ha as J,Ia as K,La as W,Ma as X,aa as D,ea as R,fa as G,ga as $,h as A,i as C,k as B,l as T,n as I,o as N,p as q,q as P,r as V,t as k,u as z}from"./chunk-VPTYPPTQ.js";import{Ab as t,Bb as n,Cb as v,Cc as w,D as S,Db as c,Eb as p,Jb as g,Lb as s,Tb as i,W as x,Wa as l,Xb as E,a as O,da as _,ha as M,p as h,pb as f,rb as d,xc as Q,za as F}from"./chunk-BTNHTO55.js";function re(e,m){e&1&&(c(0),i(1," Tea quantity is required. "),p())}function ie(e,m){if(e&1&&(t(0,"mat-error"),f(1,re,2,0,"ng-container",9),n()),e&2){let u,r=s();l(),d("ngIf",(u=r.beverageOrderForm.get("teaQuantity").errors)==null?null:u.required)}}function oe(e,m){e&1&&(c(0),i(1," Tea amount is required. "),p())}function ae(e,m){if(e&1&&(t(0,"mat-error"),f(1,oe,2,0,"ng-container",9),n()),e&2){let u,r=s();l(),d("ngIf",(u=r.beverageOrderForm.get("teaAmount").errors)==null?null:u.required)}}function me(e,m){e&1&&(c(0),i(1," Coffee quantity is required. "),p())}function le(e,m){if(e&1&&(t(0,"mat-error"),f(1,me,2,0,"ng-container",9),n()),e&2){let u,r=s();l(),d("ngIf",(u=r.beverageOrderForm.get("coffeeQuantity").errors)==null?null:u.required)}}function de(e,m){e&1&&(c(0),i(1," Coffee amount is required. "),p())}function ue(e,m){if(e&1&&(t(0,"mat-error"),f(1,de,2,0,"ng-container",9),n()),e&2){let u,r=s();l(),d("ngIf",(u=r.beverageOrderForm.get("coffeeAmount").errors)==null?null:u.required)}}function fe(e,m){e&1&&(c(0),i(1," Room number is required. "),p())}function ce(e,m){if(e&1&&(t(0,"mat-error"),f(1,fe,2,0,"ng-container",9),n()),e&2){let u,r=s();l(),d("ngIf",(u=r.beverageOrderForm.get("roomNumber").errors)==null?null:u.required)}}function pe(e,m){e&1&&(c(0),v(1,"app-spinner"),p())}function ge(e,m){e&1&&(c(0),i(1,"Submit"),p())}var ze=(()=>{let m=class m{constructor(){this.orderService=_(ne),this.formBuilder=_(V),this.dialog=_(j),this.destroyRef=_(F),this.loading=!1}ngOnInit(){this.initializeForm(),this.onQuantityChange()}initializeForm(){this.beverageOrderForm=this.formBuilder.group({teaQuantity:[0,C.required],teaAmount:["",this.amountValidator("teaQuantity")],coffeeQuantity:[0,C.required],coffeeAmount:["",this.amountValidator("coffeeQuantity")],notes:[""],roomNumber:["",C.required]},{validator:this.validateTeaAndCoffee})}amountValidator(r){return a=>{let o=a.parent?.get(r);return o&&o.value>0&&!a.value?{required:!0}:null}}validateTeaAndCoffee(r){let a=r.get("teaQuantity").value,o=r.get("coffeeQuantity").value;return a===0&&o===0?{invalidBeverageOrder:!0}:null}onQuantityChange(){this.beverageOrderForm.get("teaQuantity").valueChanges.subscribe(()=>{this.beverageOrderForm.get("teaAmount")?.updateValueAndValidity()}),this.beverageOrderForm.get("coffeeQuantity").valueChanges.subscribe(()=>{this.beverageOrderForm.get("coffeeAmount")?.updateValueAndValidity()})}onSubmit(){if(this.beverageOrderForm.markAllAsTouched(),this.beverageOrderForm.valid){let r=O({},this.beverageOrderForm.value);this.orderService.createOrder(r).pipe(x(a=>{this.loading=!1,y(this.dialog,a.message,"close")}),S(a=>(this.loading=!1,y(this.dialog,a.error.message,"close"),console.log(a),h(a))),z(this.destroyRef)).subscribe()}}incrementQuantity(r){let a=this.beverageOrderForm.get(`${r}Quantity`).value;this.beverageOrderForm.get(`${r}Quantity`).setValue(a+1)}decrementQuantity(r){let a=this.beverageOrderForm.get(`${r}Quantity`).value;a>0&&this.beverageOrderForm.get(`${r}Quantity`).setValue(a-1)}};m.\u0275fac=function(a){return new(a||m)},m.\u0275cmp=M({type:m,selectors:[["app-beverage-order"]],standalone:!0,features:[E],decls:69,vars:9,consts:[[1,"container"],[1,"form-wrapper"],[1,"form-title"],[3,"ngSubmit","formGroup"],[1,"input-group"],[1,"half-width"],[1,"quantity-controls"],["matInput","","formControlName","teaQuantity","type","number"],["mat-icon-button","","type","button",3,"click"],[4,"ngIf"],["formControlName","teaAmount"],["value","half"],["value","full"],["matInput","","formControlName","coffeeQuantity","type","number"],["formControlName","coffeeAmount"],[1,"full-width"],["formControlName","roomNumber"],["value","1"],["value","2"],["value","3"],["matInput","","formControlName","notes","rows","4"],["mat-flat-button","","type","submit",1,"submit-button",3,"disabled"]],template:function(a,o){a&1&&(t(0,"div",0)(1,"div",1)(2,"p",2)(3,"mat-icon"),i(4,"coffee"),n(),i(5," Order Beverage"),n(),t(6,"form",3),g("ngSubmit",function(){return o.onSubmit()}),t(7,"div",4)(8,"mat-form-field",5)(9,"mat-label"),i(10,"Tea"),n(),t(11,"div",6),v(12,"input",7),t(13,"button",8),g("click",function(){return o.incrementQuantity("tea")}),t(14,"mat-icon"),i(15,"add"),n()(),t(16,"button",8),g("click",function(){return o.decrementQuantity("tea")}),t(17,"mat-icon"),i(18,"remove"),n()()(),f(19,ie,2,1,"mat-error",9),n(),t(20,"mat-form-field",5)(21,"mat-label"),i(22,"Tea Amount"),n(),t(23,"mat-select",10)(24,"mat-option",11),i(25,"Half"),n(),t(26,"mat-option",12),i(27,"Full"),n()(),f(28,ae,2,1,"mat-error",9),n()(),t(29,"div",4)(30,"mat-form-field",5)(31,"mat-label"),i(32,"Coffee"),n(),t(33,"div",6),v(34,"input",13),t(35,"button",8),g("click",function(){return o.incrementQuantity("coffee")}),t(36,"mat-icon"),i(37,"add"),n()(),t(38,"button",8),g("click",function(){return o.decrementQuantity("coffee")}),t(39,"mat-icon"),i(40,"remove"),n()()(),f(41,le,2,1,"mat-error",9),n(),t(42,"mat-form-field",5)(43,"mat-label"),i(44,"Coffee Amount"),n(),t(45,"mat-select",14)(46,"mat-option",11),i(47,"Half "),n(),t(48,"mat-option",12),i(49,"Full "),n()(),f(50,ue,2,1,"mat-error",9),n()(),t(51,"mat-form-field",15)(52,"mat-label"),i(53,"Room Number"),n(),t(54,"mat-select",16)(55,"mat-option",17),i(56,"1"),n(),t(57,"mat-option",18),i(58,"2"),n(),t(59,"mat-option",19),i(60,"3"),n()(),f(61,ce,2,1,"mat-error",9),n(),t(62,"mat-form-field",15)(63,"mat-label"),i(64,"Additional Notes"),n(),v(65,"textarea",20),n(),t(66,"button",21),f(67,pe,2,0,"ng-container",9)(68,ge,2,0,"ng-container",9),n()()()()),a&2&&(l(6),d("formGroup",o.beverageOrderForm),l(13),d("ngIf",o.beverageOrderForm.get("teaQuantity").invalid&&o.beverageOrderForm.get("teaQuantity").touched),l(9),d("ngIf",o.beverageOrderForm.get("teaAmount").invalid&&o.beverageOrderForm.get("teaAmount").touched),l(13),d("ngIf",o.beverageOrderForm.get("coffeeQuantity").invalid&&o.beverageOrderForm.get("coffeeQuantity").touched),l(9),d("ngIf",o.beverageOrderForm.get("coffeeAmount").invalid&&o.beverageOrderForm.get("coffeeAmount").touched),l(11),d("ngIf",o.beverageOrderForm.get("roomNumber").invalid&&o.beverageOrderForm.get("roomNumber").touched),l(5),d("disabled",o.loading),l(),d("ngIf",o.loading),l(),d("ngIf",!o.loading))},dependencies:[k,I,A,N,B,T,q,P,U,te,W,J,K,ee,D,w,Q,X,Z,Y,L,H,$,R,G],styles:[".container[_ngcontent-%COMP%]{min-height:90vh;display:flex;justify-content:center;align-items:center}.form-wrapper[_ngcontent-%COMP%]{padding:2rem;width:30%;background-color:#fff;box-shadow:0 .5rem 1rem #0000001a}.form-title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:1.25rem;gap:.5rem;font-weight:500;color:#025dad}.full-width[_ngcontent-%COMP%]{width:100%}.input-group[_ngcontent-%COMP%]{display:flex;gap:1rem}.half-width[_ngcontent-%COMP%]{width:50%}.quantity-controls[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.submit-button[_ngcontent-%COMP%]{font-size:.875rem;text-wrap:nowrap}@media (max-width: 480px){.form-wrapper[_ngcontent-%COMP%]{padding:1.5rem;width:50%}.form-title[_ngcontent-%COMP%]{font-size:.875rem;gap:.5rem;margin-bottom:.75rem}.submit-button[_ngcontent-%COMP%]{font-size:.75rem}.input-group[_ngcontent-%COMP%]{gap:.5rem}}@media (min-width: 481px) and (max-width: 768px){.form-wrapper[_ngcontent-%COMP%]{padding:1.5rem;width:40%}.form-title[_ngcontent-%COMP%]{font-size:1rem;gap:.5rem;margin-bottom:.75rem}.submit-button[_ngcontent-%COMP%]{font-size:.75rem}.input-group[_ngcontent-%COMP%]{gap:.5rem}}@media (min-width: 769px) and (max-width: 1024px){.form-wrapper[_ngcontent-%COMP%]{padding:1.5rem;width:40%}.form-title[_ngcontent-%COMP%]{font-size:1.25rem;gap:.5rem;margin-bottom:1rem}.submit-button[_ngcontent-%COMP%]{font-size:.875rem}}"]});let e=m;return e})();export{ze as BeverageOrderComponent};
