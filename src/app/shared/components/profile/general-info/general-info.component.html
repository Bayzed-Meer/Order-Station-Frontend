<div class="general-info-container">
    <div>
        <p class="general-info-title">
            <mat-icon>description</mat-icon>
            General Information
        </p>

        <form [formGroup]="generalInfoForm" (ngSubmit)="onSubmit()" class="general-info-form">
            <div>
                <mat-form-field class="full-width">
                    <mat-label>Username</mat-label>
                    <input matInput id="username" type="text" formControlName="username" />
                </mat-form-field>
                <mat-form-field class="full-width">
                    <mat-label>ID</mat-label>
                    <input matInput id="id" type="text" formControlName="id" />
                </mat-form-field>
                <mat-form-field class="full-width">
                    <mat-label>Email</mat-label>
                    <input matInput id="general-email" type="email" formControlName="email" />
                </mat-form-field>
                <mat-form-field class="full-width">
                    <mat-label>SBU</mat-label>
                    <mat-select id="SBU" formControlName="SBU">
                        <mat-option value="fintech">Fintech</mat-option>
                        <mat-option value="healthtech">Healthtech</mat-option>
                        <mat-option value="usa">USA</mat-option>
                        <mat-option value="europe">Europe</mat-option>
                        <mat-option value="js">JS</mat-option>
                        <mat-option value="nop commerce">Nop Commerce</mat-option>
                    </mat-select>
                    @if (
                        generalInfoForm.get('SBU')?.invalid && generalInfoForm.get('SBU')?.touched
                    ) {
                        <mat-error>
                            @if (generalInfoForm.get('SBU')?.errors?.['required']) {
                                <ng-container>SBU is required</ng-container>
                            }
                        </mat-error>
                    }
                </mat-form-field>
            </div>

            <div>
                <mat-form-field class="full-width">
                    <mat-label>Contact Number</mat-label>
                    <input
                        matInput
                        id="contactNumber"
                        type="text"
                        formControlName="contactNumber"
                    />
                    @if (
                        generalInfoForm.get('contactNumber')?.invalid &&
                        generalInfoForm.get('contactNumber')?.touched
                    ) {
                        <mat-error>
                            @if (generalInfoForm.get('contactNumber')?.errors?.['required']) {
                                <ng-container>Contact number is required</ng-container>
                            }
                        </mat-error>
                    }
                </mat-form-field>
                <mat-form-field class="full-width">
                    <mat-label>Job Title</mat-label>
                    <input matInput id="jobTitle" type="text" formControlName="jobTitle" />
                    @if (
                        generalInfoForm.get('jobTitle')?.invalid &&
                        generalInfoForm.get('jobTitle')?.touched
                    ) {
                        <mat-error>
                            @if (generalInfoForm.get('jobTitle')?.errors?.['required']) {
                                <ng-container>Job title is required</ng-container>
                            }
                        </mat-error>
                    }
                </mat-form-field>
                <mat-form-field class="full-width">
                    <mat-label>Meal</mat-label>
                    <mat-select id="meal" formControlName="meal">
                        <mat-option value="regular">Regular</mat-option>
                        <mat-option value="diet">Diet</mat-option>
                    </mat-select>
                    @if (
                        generalInfoForm.get('meal')?.invalid && generalInfoForm.get('meal')?.touched
                    ) {
                        <mat-error>
                            @if (generalInfoForm.get('meal')?.errors?.['required']) {
                                <ng-container>Meal is required</ng-container>
                            }
                        </mat-error>
                    }
                </mat-form-field>
                <div class="submit-container">
                    <button
                        mat-flat-button
                        type="submit"
                        [disabled]="loading"
                        class="submit-button"
                    >
                        @if (loading) {
                            <app-spinner />
                        } @else {
                            <span>Save</span>
                        }
                    </button>
                </div>
            </div>
        </form>
    </div>
</div>
