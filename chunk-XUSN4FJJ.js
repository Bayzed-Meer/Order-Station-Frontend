import{a as H,b as J}from"./chunk-AIEE5QYS.js";import{a as G}from"./chunk-WTCOMKZM.js";import"./chunk-SAWTMHJN.js";import"./chunk-OE7TMH5F.js";import{a as q,b as B}from"./chunk-AGNVOT4A.js";import{a as b}from"./chunk-QS4TB3GR.js";import"./chunk-DQVMZKPK.js";import{Aa as L,Fa as z,Ga as A,Ha as R,La as j,Ma as N,u as O}from"./chunk-VPTYPPTQ.js";import{Ab as o,Ba as C,Bb as s,Cc as T,D as M,Db as V,Eb as S,Gb as h,Jb as a,Lb as y,Sb as D,Tb as c,W as x,Wa as v,Xb as _,ac as I,da as w,ha as f,p as E,pb as U,ra as u,rb as l,sa as g,vc as k,xc as F,za as P}from"./chunk-BTNHTO55.js";var Q=(()=>{let t=class t{constructor(){this.filter="",this.users=[],this.deleteUserEvent=new C}};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=f({type:t,selectors:[["app-employees-list"]],inputs:{filter:"filter",users:"users"},outputs:{deleteUserEvent:"deleteUserEvent"},standalone:!0,features:[_],decls:1,vars:2,consts:[[3,"deleteUserEvent","users","filter"]],template:function(e,n){e&1&&(o(0,"app-users-list",0),a("deleteUserEvent",function(d){return n.deleteUserEvent.emit(d)}),s()),e&2&&l("users",n.users)("filter",n.filter)},dependencies:[H]});let i=t;return i})();var W=(()=>{let t=class t{constructor(){this.filter="",this.users=[],this.deleteUserEvent=new C}};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=f({type:t,selectors:[["app-employees-card"]],inputs:{filter:"filter",users:"users"},outputs:{deleteUserEvent:"deleteUserEvent"},standalone:!0,features:[_],decls:1,vars:2,consts:[[3,"deleteUserEvent","users","filter"]],template:function(e,n){e&1&&(o(0,"app-users-card",0),a("deleteUserEvent",function(d){return n.deleteUserEvent.emit(d)}),s()),e&2&&l("users",n.users)("filter",n.filter)},dependencies:[J]});let i=t;return i})();function Y(i,t){if(i&1){let m=h();V(0),o(1,"app-employees-list",11),a("deleteUserEvent",function(e){u(m);let n=y();return g(n.handleDeleteUser(e))}),s(),S()}if(i&2){let m=y();v(),l("filter",m.filter)("users",m.employees)}}function Z(i,t){if(i&1){let m=h();o(0,"app-employees-card",11),a("deleteUserEvent",function(e){u(m);let n=y();return g(n.handleDeleteUser(e))}),s()}if(i&2){let m=y();l("filter",m.filter)("users",m.employees)}}var Ue=(()=>{let t=class t{constructor(){this.adminService=w(G),this.destroyRef=w(P),this.dialog=w(L),this.filter="",this.isListView=!1,this.employees=[]}ngOnInit(){this.loadAllEmployees()}loadAllEmployees(){this.adminService.getAllEmployees().pipe(x(r=>{this.employees=r}),M(r=>(console.log("Error fetching employees",r),E([]))),O(this.destroyRef)).subscribe()}handleDeleteUser(r){this.adminService.deleteEmployee(r.id).pipe(x(e=>{this.loadAllEmployees(),b(this.dialog,e.message,"close"),console.log("Employee deletion successful")}),M(e=>(console.log("Error deleting employee",e),b(this.dialog,e.error.message,"close"),E(null))),O(this.destroyRef)).subscribe()}applyFilter(r){this.filter=r.target.value.trim().toLowerCase()}toggleView(){this.isListView=!this.isListView}};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=f({type:t,selectors:[["app-employees"]],standalone:!0,features:[_],decls:23,vars:4,consts:[["cardView",""],[1,"container"],[1,"title"],[1,"search-container"],[1,"search-field"],["matInput","",1,"input-field",3,"keyup"],[1,"view-controls"],[1,"views-label"],[1,"view-buttons"],["mat-icon-button","",1,"view-button",3,"click","ngClass"],[4,"ngIf","ngIfElse"],[3,"deleteUserEvent","filter","users"]],template:function(e,n){if(e&1){let p=h();o(0,"div",1)(1,"div",2)(2,"mat-icon"),c(3,"people"),s(),c(4," All Employees"),s(),o(5,"div",3)(6,"mat-form-field",4)(7,"mat-label"),c(8,"Search..."),s(),o(9,"input",5),a("keyup",function(X){return u(p),g(n.applyFilter(X))}),s()(),o(10,"div",6)(11,"div",7),c(12,"Views"),s(),o(13,"div",8)(14,"button",9),a("click",function(){return u(p),g(n.toggleView())}),o(15,"mat-icon"),c(16,"view_module"),s()(),o(17,"button",9),a("click",function(){return u(p),g(n.toggleView())}),o(18,"mat-icon"),c(19,"view_list"),s()()()()(),U(20,Y,2,2,"ng-container",10)(21,Z,1,2,"ng-template",null,0,I),s()}if(e&2){let p=D(22);v(14),l("ngClass",n.isListView?"":"active"),v(3),l("ngClass",n.isListView?"active":""),v(3),l("ngIf",n.isListView)("ngIfElse",p)}},dependencies:[N,j,R,Q,B,q,W,A,z,T,k,F],styles:[".container[_ngcontent-%COMP%]{padding:1.5rem 2rem}.title[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:1rem;background-color:#024988;color:#f0eeee;font-size:1.25rem;gap:.5rem;padding:.5rem;font-weight:500}.search-container[_ngcontent-%COMP%]{display:flex}.search-field[_ngcontent-%COMP%]{width:94%;margin-right:.5rem}.input-field[_ngcontent-%COMP%]{width:100%}.view-controls[_ngcontent-%COMP%]{width:6%;display:flex;flex-direction:column;align-items:center}.views-label[_ngcontent-%COMP%]{font-size:1rem;font-weight:500;color:#025dad}.view-buttons[_ngcontent-%COMP%]{display:flex;gap:.25rem;color:#025dad}.view-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;border:none;background-color:transparent;cursor:pointer}.active[_ngcontent-%COMP%]{background-color:#cecece}@media (max-width: 480px){.container[_ngcontent-%COMP%]{padding:1rem 1.75rem}.title[_ngcontent-%COMP%]{font-size:.875rem;padding:.25rem;gap:.25rem}.search-field[_ngcontent-%COMP%]{width:80%}.view-controls[_ngcontent-%COMP%]{width:20%}.views-label[_ngcontent-%COMP%]{font-size:.875rem}}@media (min-width: 481px) and (max-width: 768px){.container[_ngcontent-%COMP%]{padding:1rem 1.5rem}.title[_ngcontent-%COMP%]{font-size:1rem;padding:.25rem;gap:.25rem}.search-field[_ngcontent-%COMP%]{width:89%}.view-controls[_ngcontent-%COMP%]{width:11%}.views-label[_ngcontent-%COMP%]{font-size:.875rem}}@media (min-width: 769px) and (max-width: 1024px){.container[_ngcontent-%COMP%]{padding:1.25rem 1.5rem}.title[_ngcontent-%COMP%]{font-size:1rem;padding:.5rem;gap:.5rem}.search-field[_ngcontent-%COMP%]{width:90%}.view-controls[_ngcontent-%COMP%]{width:10%}.views-label[_ngcontent-%COMP%]{font-size:.875rem}}"]});let i=t;return i})();export{Ue as EmployeesComponent};
