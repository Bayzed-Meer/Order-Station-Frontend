import{a as H,b as J}from"./chunk-AIEE5QYS.js";import{a as G}from"./chunk-WTCOMKZM.js";import"./chunk-SAWTMHJN.js";import"./chunk-OE7TMH5F.js";import{a as q,b as B}from"./chunk-AGNVOT4A.js";import{a as O}from"./chunk-QS4TB3GR.js";import"./chunk-DQVMZKPK.js";import{Aa as L,Fa as z,Ga as A,Ha as R,La as j,Ma as N,u as x}from"./chunk-VPTYPPTQ.js";import{Ab as s,Ba as h,Bb as o,Cc as T,D as S,Db as U,Eb as V,Gb as M,Jb as l,Lb as w,Sb as D,Tb as c,W as y,Wa as v,Xb as _,ac as I,da as C,ha as p,p as E,pb as P,ra as u,rb as a,sa as g,vc as k,xc as F,za as b}from"./chunk-BTNHTO55.js";var Q=(()=>{let t=class t{constructor(){this.filter="",this.users=[],this.deleteUserEvent=new h}};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=p({type:t,selectors:[["app-staffs-list"]],inputs:{filter:"filter",users:"users"},outputs:{deleteUserEvent:"deleteUserEvent"},standalone:!0,features:[_],decls:1,vars:2,consts:[[3,"deleteUserEvent","users","filter"]],template:function(e,n){e&1&&(s(0,"app-users-list",0),l("deleteUserEvent",function(d){return n.deleteUserEvent.emit(d)}),o()),e&2&&a("users",n.users)("filter",n.filter)},dependencies:[H]});let i=t;return i})();var W=(()=>{let t=class t{constructor(){this.filter="",this.users=[],this.deleteUserEvent=new h}};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=p({type:t,selectors:[["app-staffs-card"]],inputs:{filter:"filter",users:"users"},outputs:{deleteUserEvent:"deleteUserEvent"},standalone:!0,features:[_],decls:1,vars:2,consts:[[3,"deleteUserEvent","users","filter"]],template:function(e,n){e&1&&(s(0,"app-users-card",0),l("deleteUserEvent",function(d){return n.deleteUserEvent.emit(d)}),o()),e&2&&a("users",n.users)("filter",n.filter)},dependencies:[J]});let i=t;return i})();function Y(i,t){if(i&1){let f=M();U(0),s(1,"app-staffs-list",11),l("deleteUserEvent",function(e){u(f);let n=w();return g(n.handleDeleteUser(e))}),o(),V()}if(i&2){let f=w();v(),a("filter",f.filter)("users",f.staffs)}}function Z(i,t){if(i&1){let f=M();s(0,"app-staffs-card",11),l("deleteUserEvent",function(e){u(f);let n=w();return g(n.handleDeleteUser(e))}),o()}if(i&2){let f=w();a("filter",f.filter)("users",f.staffs)}}var Pe=(()=>{let t=class t{constructor(){this.adminService=C(G),this.destroyRef=C(b),this.dialog=C(L),this.filter="",this.isListView=!1,this.staffs=[]}ngOnInit(){this.loadAllstaffs()}loadAllstaffs(){this.adminService.getAllStaffs().pipe(y(r=>this.staffs=r),S(r=>(console.log("Error fetching staffs",r),E([]))),x(this.destroyRef)).subscribe()}handleDeleteUser(r){this.adminService.deleteStaff(r.id).pipe(y(e=>{this.loadAllstaffs(),O(this.dialog,e.message,"close"),console.log("Staff deletion successful")}),S(e=>(console.log("Error deleting staff",e),O(this.dialog,e.error.message,"close"),E(null))),x(this.destroyRef)).subscribe()}applyFilter(r){this.filter=r.target.value.trim().toLowerCase()}toggleView(){this.isListView=!this.isListView}};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=p({type:t,selectors:[["app-staff"]],standalone:!0,features:[_],decls:23,vars:4,consts:[["cardView",""],[1,"container"],[1,"title"],[1,"search-container"],[1,"search-field"],["matInput","",1,"input-field",3,"keyup"],[1,"view-controls"],[1,"views-label"],[1,"view-buttons"],["mat-icon-button","",1,"view-button",3,"click","ngClass"],[4,"ngIf","ngIfElse"],[3,"deleteUserEvent","filter","users"]],template:function(e,n){if(e&1){let m=M();s(0,"div",1)(1,"div",2)(2,"mat-icon"),c(3,"people"),o(),c(4," All Staffs"),o(),s(5,"div",3)(6,"mat-form-field",4)(7,"mat-label"),c(8,"Search..."),o(),s(9,"input",5),l("keyup",function(X){return u(m),g(n.applyFilter(X))}),o()(),s(10,"div",6)(11,"div",7),c(12,"Views"),o(),s(13,"div",8)(14,"button",9),l("click",function(){return u(m),g(n.toggleView())}),s(15,"mat-icon"),c(16,"view_module"),o()(),s(17,"button",9),l("click",function(){return u(m),g(n.toggleView())}),s(18,"mat-icon"),c(19,"view_list"),o()()()()(),P(20,Y,2,2,"ng-container",10)(21,Z,1,2,"ng-template",null,0,I),o()}if(e&2){let m=D(22);v(14),a("ngClass",n.isListView?"":"active"),v(3),a("ngClass",n.isListView?"active":""),v(3),a("ngIf",n.isListView)("ngIfElse",m)}},dependencies:[N,j,R,Q,B,q,W,A,z,T,k,F],styles:[".container[_ngcontent-%COMP%]{padding:1.5rem 2rem}.title[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:1rem;background-color:#024988;color:#f0eeee;font-size:1.25rem;gap:.5rem;padding:.5rem;font-weight:500}.search-container[_ngcontent-%COMP%]{display:flex}.search-field[_ngcontent-%COMP%]{width:94%;margin-right:.5rem}.input-field[_ngcontent-%COMP%]{width:100%}.view-controls[_ngcontent-%COMP%]{width:6%;display:flex;flex-direction:column;align-items:center}.views-label[_ngcontent-%COMP%]{font-size:1rem;font-weight:500;color:#025dad}.view-buttons[_ngcontent-%COMP%]{display:flex;gap:.25rem;color:#025dad}.view-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;border:none;background-color:transparent;cursor:pointer}.active[_ngcontent-%COMP%]{background-color:#cecece}@media (max-width: 480px){.container[_ngcontent-%COMP%]{padding:1rem 1.75rem}.title[_ngcontent-%COMP%]{font-size:.875rem;padding:.25rem;gap:.25rem}.search-field[_ngcontent-%COMP%]{width:80%}.view-controls[_ngcontent-%COMP%]{width:20%}.views-label[_ngcontent-%COMP%]{font-size:.875rem}}@media (min-width: 481px) and (max-width: 768px){.container[_ngcontent-%COMP%]{padding:1rem 1.5rem}.title[_ngcontent-%COMP%]{font-size:1rem;padding:.25rem;gap:.25rem}.search-field[_ngcontent-%COMP%]{width:89%}.view-controls[_ngcontent-%COMP%]{width:11%}.views-label[_ngcontent-%COMP%]{font-size:.875rem}}@media (min-width: 769px) and (max-width: 1024px){.container[_ngcontent-%COMP%]{padding:1.25rem 1.5rem}.title[_ngcontent-%COMP%]{font-size:1rem;padding:.5rem;gap:.5rem}.search-field[_ngcontent-%COMP%]{width:90%}.view-controls[_ngcontent-%COMP%]{width:10%}.views-label[_ngcontent-%COMP%]{font-size:.875rem}}"]});let i=t;return i})();export{Pe as StaffComponent};
