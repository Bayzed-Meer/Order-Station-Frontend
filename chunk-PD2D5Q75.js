import{a as N,b as q}from"./chunk-L6RFNPNM.js";import{a as j}from"./chunk-7IOQSANJ.js";import"./chunk-SWOLHGBV.js";import"./chunk-64TEYA7P.js";import{a as A,b as R}from"./chunk-IH3R4FBH.js";import{a as b}from"./chunk-FQON5K5U.js";import"./chunk-2BGQ2KSS.js";import{Aa as k,Fa as F,Ga as T,Ia as L,Ma as z,Na as I,u as O}from"./chunk-YPECUWCB.js";import{Ba as v,Bb as r,Bc as D,Cb as s,D as h,Hb as x,Kb as l,Mb as f,Ub as p,W as E,Wa as y,Yb as c,da as _,ha as d,p as C,pb as U,ra as w,rb as m,sa as M,wb as S,wc as V,za as P}from"./chunk-6L47HEBJ.js";var G=(()=>{let t=class t{constructor(){this.filter="",this.users=[],this.deleteUserEvent=new v}};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d({type:t,selectors:[["app-employees-list"]],inputs:{filter:"filter",users:"users"},outputs:{deleteUserEvent:"deleteUserEvent"},standalone:!0,features:[c],decls:1,vars:2,consts:[[3,"deleteUserEvent","users","filter"]],template:function(e,n){e&1&&(r(0,"app-users-list",0),l("deleteUserEvent",function(u){return n.deleteUserEvent.emit(u)}),s()),e&2&&m("users",n.users)("filter",n.filter)},dependencies:[N]});let i=t;return i})();var H=(()=>{let t=class t{constructor(){this.filter="",this.users=[],this.deleteUserEvent=new v}};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d({type:t,selectors:[["app-employees-card"]],inputs:{filter:"filter",users:"users"},outputs:{deleteUserEvent:"deleteUserEvent"},standalone:!0,features:[c],decls:1,vars:2,consts:[[3,"deleteUserEvent","users","filter"]],template:function(e,n){e&1&&(r(0,"app-users-card",0),l("deleteUserEvent",function(u){return n.deleteUserEvent.emit(u)}),s()),e&2&&m("users",n.users)("filter",n.filter)},dependencies:[q]});let i=t;return i})();function J(i,t){if(i&1){let a=x();r(0,"app-employees-list",10),l("deleteUserEvent",function(e){w(a);let n=f();return M(n.handleDeleteUser(e))}),s()}if(i&2){let a=f();m("filter",a.filter)("users",a.employees)}}function K(i,t){if(i&1){let a=x();r(0,"app-employees-card",10),l("deleteUserEvent",function(e){w(a);let n=f();return M(n.handleDeleteUser(e))}),s()}if(i&2){let a=f();m("filter",a.filter)("users",a.employees)}}var Me=(()=>{let t=class t{constructor(){this.adminService=_(j),this.destroyRef=_(P),this.dialog=_(k),this.filter="",this.isListView=!1,this.employees=[]}ngOnInit(){this.loadAllEmployees()}loadAllEmployees(){this.adminService.getAllEmployees().pipe(E(o=>{this.employees=o}),h(o=>(console.log("Error fetching employees",o),C([]))),O(this.destroyRef)).subscribe()}handleDeleteUser(o){this.adminService.deleteEmployee(o.id).pipe(E(e=>{this.loadAllEmployees(),b(this.dialog,e.message,"close"),console.log("Employee deletion successful")}),h(e=>(console.log("Error deleting employee",e),b(this.dialog,e.error.message,"close"),C(null))),O(this.destroyRef)).subscribe()}applyFilter(o){this.filter=o.target.value.trim().toLowerCase()}toggleView(){this.isListView=!this.isListView}};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d({type:t,selectors:[["app-employees"]],standalone:!0,features:[c],decls:22,vars:3,consts:[[1,"container"],[1,"title"],[1,"search-container"],[1,"search-field"],["matInput","",1,"input-field",3,"keyup"],[1,"view-controls"],[1,"views-label"],[1,"view-buttons"],["mat-icon-button","",1,"view-button",3,"click","ngClass"],[3,"filter","users"],[3,"deleteUserEvent","filter","users"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"mat-icon"),p(3,"people"),s(),p(4," All Employees "),s(),r(5,"div",2)(6,"mat-form-field",3)(7,"mat-label"),p(8,"Search..."),s(),r(9,"input",4),l("keyup",function(u){return n.applyFilter(u)}),s()(),r(10,"div",5)(11,"div",6),p(12,"Views"),s(),r(13,"div",7)(14,"button",8),l("click",function(){return n.toggleView()}),r(15,"mat-icon"),p(16,"view_module"),s()(),r(17,"button",8),l("click",function(){return n.toggleView()}),r(18,"mat-icon"),p(19,"view_list"),s()()()()(),U(20,J,1,2,"app-employees-list",9)(21,K,1,2,"app-employees-card",9),s()),e&2&&(y(14),m("ngClass",n.isListView?"":"active"),y(3),m("ngClass",n.isListView?"active":""),y(3),S(n.isListView?20:21))},dependencies:[I,z,L,G,R,A,H,T,F,D,V],styles:[".container[_ngcontent-%COMP%]{padding:1.5rem 2rem}.title[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:1rem;background-color:#024988;color:#f0eeee;font-size:1.25rem;gap:.5rem;padding:.5rem;font-weight:500}.search-container[_ngcontent-%COMP%]{display:flex}.search-field[_ngcontent-%COMP%]{width:94%;margin-right:.5rem}.input-field[_ngcontent-%COMP%]{width:100%}.view-controls[_ngcontent-%COMP%]{width:6%;display:flex;flex-direction:column;align-items:center}.views-label[_ngcontent-%COMP%]{font-size:1rem;font-weight:500;color:#025dad}.view-buttons[_ngcontent-%COMP%]{display:flex;gap:.25rem;color:#025dad}.view-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;border:none;background-color:transparent;cursor:pointer}.active[_ngcontent-%COMP%]{background-color:#cecece}@media (max-width: 480px){.container[_ngcontent-%COMP%]{padding:1rem 1.75rem}.title[_ngcontent-%COMP%]{font-size:.875rem;padding:.25rem;gap:.25rem}.search-field[_ngcontent-%COMP%]{width:80%}.view-controls[_ngcontent-%COMP%]{width:20%}.views-label[_ngcontent-%COMP%]{font-size:.875rem}}@media (min-width: 481px) and (max-width: 768px){.container[_ngcontent-%COMP%]{padding:1rem 1.5rem}.title[_ngcontent-%COMP%]{font-size:1rem;padding:.25rem;gap:.25rem}.search-field[_ngcontent-%COMP%]{width:89%}.view-controls[_ngcontent-%COMP%]{width:11%}.views-label[_ngcontent-%COMP%]{font-size:.875rem}}@media (min-width: 769px) and (max-width: 1024px){.container[_ngcontent-%COMP%]{padding:1.25rem 1.5rem}.title[_ngcontent-%COMP%]{font-size:1rem;padding:.5rem;gap:.5rem}.search-field[_ngcontent-%COMP%]{width:90%}.view-controls[_ngcontent-%COMP%]{width:10%}.views-label[_ngcontent-%COMP%]{font-size:.875rem}}"]});let i=t;return i})();export{Me as EmployeesComponent};
