import{a as N,b as q}from"./chunk-L6RFNPNM.js";import{a as j}from"./chunk-7IOQSANJ.js";import"./chunk-SWOLHGBV.js";import"./chunk-64TEYA7P.js";import{a as A,b as R}from"./chunk-IH3R4FBH.js";import{a as O}from"./chunk-FQON5K5U.js";import"./chunk-2BGQ2KSS.js";import{Aa as k,Fa as F,Ga as T,Ia as L,Ma as z,Na as I,u as x}from"./chunk-YPECUWCB.js";import{Ba as v,Bb as s,Bc as D,Cb as o,D as w,Hb as y,Kb as a,Mb as u,Ub as m,W as M,Wa as C,Yb as c,da as _,ha as d,p as h,pb as P,ra as E,rb as f,sa as S,wb as U,wc as V,za as b}from"./chunk-6L47HEBJ.js";var G=(()=>{let t=class t{constructor(){this.filter="",this.users=[],this.deleteUserEvent=new v}};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d({type:t,selectors:[["app-staffs-list"]],inputs:{filter:"filter",users:"users"},outputs:{deleteUserEvent:"deleteUserEvent"},standalone:!0,features:[c],decls:1,vars:2,consts:[[3,"deleteUserEvent","users","filter"]],template:function(e,n){e&1&&(s(0,"app-users-list",0),a("deleteUserEvent",function(p){return n.deleteUserEvent.emit(p)}),o()),e&2&&f("users",n.users)("filter",n.filter)},dependencies:[N]});let i=t;return i})();var H=(()=>{let t=class t{constructor(){this.filter="",this.users=[],this.deleteUserEvent=new v}};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d({type:t,selectors:[["app-staffs-card"]],inputs:{filter:"filter",users:"users"},outputs:{deleteUserEvent:"deleteUserEvent"},standalone:!0,features:[c],decls:1,vars:2,consts:[[3,"deleteUserEvent","users","filter"]],template:function(e,n){e&1&&(s(0,"app-users-card",0),a("deleteUserEvent",function(p){return n.deleteUserEvent.emit(p)}),o()),e&2&&f("users",n.users)("filter",n.filter)},dependencies:[q]});let i=t;return i})();function J(i,t){if(i&1){let l=y();s(0,"app-staffs-list",10),a("deleteUserEvent",function(e){E(l);let n=u();return S(n.handleDeleteUser(e))}),o()}if(i&2){let l=u();f("filter",l.filter)("users",l.staffs)}}function K(i,t){if(i&1){let l=y();s(0,"app-staffs-card",10),a("deleteUserEvent",function(e){E(l);let n=u();return S(n.handleDeleteUser(e))}),o()}if(i&2){let l=u();f("filter",l.filter)("users",l.staffs)}}var Se=(()=>{let t=class t{constructor(){this.adminService=_(j),this.destroyRef=_(b),this.dialog=_(k),this.filter="",this.isListView=!1,this.staffs=[]}ngOnInit(){this.loadAllstaffs()}loadAllstaffs(){this.adminService.getAllStaffs().pipe(M(r=>this.staffs=r),w(r=>(console.log("Error fetching staffs",r),h([]))),x(this.destroyRef)).subscribe()}handleDeleteUser(r){this.adminService.deleteStaff(r.id).pipe(M(e=>{this.loadAllstaffs(),O(this.dialog,e.message,"close"),console.log("Staff deletion successful")}),w(e=>(console.log("Error deleting staff",e),O(this.dialog,e.error.message,"close"),h(null))),x(this.destroyRef)).subscribe()}applyFilter(r){this.filter=r.target.value.trim().toLowerCase()}toggleView(){this.isListView=!this.isListView}};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d({type:t,selectors:[["app-staff"]],standalone:!0,features:[c],decls:22,vars:3,consts:[[1,"container"],[1,"title"],[1,"search-container"],[1,"search-field"],["matInput","",1,"input-field",3,"keyup"],[1,"view-controls"],[1,"views-label"],[1,"view-buttons"],["mat-icon-button","",1,"view-button",3,"click","ngClass"],[3,"filter","users"],[3,"deleteUserEvent","filter","users"]],template:function(e,n){e&1&&(s(0,"div",0)(1,"div",1)(2,"mat-icon"),m(3,"people"),o(),m(4," All Staffs "),o(),s(5,"div",2)(6,"mat-form-field",3)(7,"mat-label"),m(8,"Search..."),o(),s(9,"input",4),a("keyup",function(p){return n.applyFilter(p)}),o()(),s(10,"div",5)(11,"div",6),m(12,"Views"),o(),s(13,"div",7)(14,"button",8),a("click",function(){return n.toggleView()}),s(15,"mat-icon"),m(16,"view_module"),o()(),s(17,"button",8),a("click",function(){return n.toggleView()}),s(18,"mat-icon"),m(19,"view_list"),o()()()()(),P(20,J,1,2,"app-staffs-list",9)(21,K,1,2,"app-staffs-card",9),o()),e&2&&(C(14),f("ngClass",n.isListView?"":"active"),C(3),f("ngClass",n.isListView?"active":""),C(3),U(n.isListView?20:21))},dependencies:[I,z,L,G,R,A,H,T,F,D,V],styles:[".container[_ngcontent-%COMP%]{padding:1.5rem 2rem}.title[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:1rem;background-color:#024988;color:#f0eeee;font-size:1.25rem;gap:.5rem;padding:.5rem;font-weight:500}.search-container[_ngcontent-%COMP%]{display:flex}.search-field[_ngcontent-%COMP%]{width:94%;margin-right:.5rem}.input-field[_ngcontent-%COMP%]{width:100%}.view-controls[_ngcontent-%COMP%]{width:6%;display:flex;flex-direction:column;align-items:center}.views-label[_ngcontent-%COMP%]{font-size:1rem;font-weight:500;color:#025dad}.view-buttons[_ngcontent-%COMP%]{display:flex;gap:.25rem;color:#025dad}.view-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;border:none;background-color:transparent;cursor:pointer}.active[_ngcontent-%COMP%]{background-color:#cecece}@media (max-width: 480px){.container[_ngcontent-%COMP%]{padding:1rem 1.75rem}.title[_ngcontent-%COMP%]{font-size:.875rem;padding:.25rem;gap:.25rem}.search-field[_ngcontent-%COMP%]{width:80%}.view-controls[_ngcontent-%COMP%]{width:20%}.views-label[_ngcontent-%COMP%]{font-size:.875rem}}@media (min-width: 481px) and (max-width: 768px){.container[_ngcontent-%COMP%]{padding:1rem 1.5rem}.title[_ngcontent-%COMP%]{font-size:1rem;padding:.25rem;gap:.25rem}.search-field[_ngcontent-%COMP%]{width:89%}.view-controls[_ngcontent-%COMP%]{width:11%}.views-label[_ngcontent-%COMP%]{font-size:.875rem}}@media (min-width: 769px) and (max-width: 1024px){.container[_ngcontent-%COMP%]{padding:1.25rem 1.5rem}.title[_ngcontent-%COMP%]{font-size:1rem;padding:.5rem;gap:.5rem}.search-field[_ngcontent-%COMP%]{width:90%}.view-controls[_ngcontent-%COMP%]{width:10%}.views-label[_ngcontent-%COMP%]{font-size:.875rem}}"]});let i=t;return i})();export{Se as StaffComponent};
