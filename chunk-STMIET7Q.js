import{a as q,b as B}from"./chunk-S3ZSZV2M.js";import{a as N}from"./chunk-7L7EPVI3.js";import"./chunk-5CPZFERK.js";import"./chunk-52WVDKS5.js";import{a as P}from"./chunk-XQBHGYW6.js";import"./chunk-NVKAPNCC.js";import{A as O,Oa as F,Ta as k,Ua as T,Wa as L,Ya as I,ab as z,bb as A,cb as R,db as j}from"./chunk-GDU7S5Q3.js";import{$b as c,Ba as v,Bb as o,Cb as r,D as h,Ec as D,Hb as x,Kb as l,Mb as u,Ub as p,W as E,Wa as y,da as _,ha as d,p as C,pb as U,ra as w,rb as m,sa as M,wb as S,za as b,zc as V}from"./chunk-MQN73C4F.js";var H=(()=>{let t=class t{constructor(){this.filter="",this.users=[],this.deleteUserEvent=new v}};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d({type:t,selectors:[["app-employees-list"]],inputs:{filter:"filter",users:"users"},outputs:{deleteUserEvent:"deleteUserEvent"},standalone:!0,features:[c],decls:1,vars:2,consts:[[3,"deleteUserEvent","users","filter"]],template:function(e,n){e&1&&(o(0,"app-users-list",0),l("deleteUserEvent",function(f){return n.deleteUserEvent.emit(f)}),r()),e&2&&m("users",n.users)("filter",n.filter)},dependencies:[q]});let i=t;return i})();var J=(()=>{let t=class t{constructor(){this.filter="",this.users=[],this.deleteUserEvent=new v}};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d({type:t,selectors:[["app-employees-card"]],inputs:{filter:"filter",users:"users"},outputs:{deleteUserEvent:"deleteUserEvent"},standalone:!0,features:[c],decls:1,vars:2,consts:[[3,"deleteUserEvent","users","filter"]],template:function(e,n){e&1&&(o(0,"app-users-card",0),l("deleteUserEvent",function(f){return n.deleteUserEvent.emit(f)}),r()),e&2&&m("users",n.users)("filter",n.filter)},dependencies:[B]});let i=t;return i})();function K(i,t){if(i&1){let a=x();o(0,"app-employees-list",11),l("deleteUserEvent",function(e){w(a);let n=u();return M(n.handleDeleteUser(e))}),r()}if(i&2){let a=u();m("filter",a.filter)("users",a.employees)}}function Q(i,t){if(i&1){let a=x();o(0,"app-employees-card",11),l("deleteUserEvent",function(e){w(a);let n=u();return M(n.handleDeleteUser(e))}),r()}if(i&2){let a=u();m("filter",a.filter)("users",a.employees)}}var xe=(()=>{let t=class t{constructor(){this.adminService=_(N),this.destroyRef=_(b),this.dialog=_(F),this.filter="",this.isListView=!1,this.employees=[]}ngOnInit(){this.loadAllEmployees()}loadAllEmployees(){this.adminService.getAllEmployees().pipe(E(s=>{this.employees=s}),h(s=>(console.log("Error fetching employees",s),C([]))),O(this.destroyRef)).subscribe()}handleDeleteUser(s){this.adminService.deleteEmployee(s.id).pipe(E(e=>{this.loadAllEmployees(),P(this.dialog,e.message,"close"),console.log("Employee deletion successful")}),h(e=>(console.log("Error deleting employee",e),P(this.dialog,e.error.message,"close"),C(null))),O(this.destroyRef)).subscribe()}applyFilter(s){this.filter=s.target.value.trim().toLowerCase()}toggleView(){this.isListView=!this.isListView}};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d({type:t,selectors:[["app-employees"]],standalone:!0,features:[c],decls:24,vars:3,consts:[[1,"container"],[1,"title"],[1,"search-container"],[1,"search-field"],["matIconPrefix",""],["matInput","",1,"input-field",3,"keyup"],[1,"view-controls"],[1,"views-label"],[1,"view-buttons"],["mat-icon-button","",1,"view-button",3,"click","ngClass"],[3,"filter","users"],[3,"deleteUserEvent","filter","users"]],template:function(e,n){e&1&&(o(0,"div",0)(1,"div",1)(2,"mat-icon"),p(3,"people"),r(),p(4," All Employees "),r(),o(5,"div",2)(6,"mat-form-field",3)(7,"mat-icon",4),p(8,"filter_alt"),r(),o(9,"mat-label"),p(10,"Filter"),r(),o(11,"input",5),l("keyup",function(f){return n.applyFilter(f)}),r()(),o(12,"div",6)(13,"div",7),p(14,"Views"),r(),o(15,"div",8)(16,"button",9),l("click",function(){return n.toggleView()}),o(17,"mat-icon"),p(18,"view_module"),r()(),o(19,"button",9),l("click",function(){return n.toggleView()}),o(20,"mat-icon"),p(21,"view_list"),r()()()()(),U(22,K,1,2,"app-employees-list",10)(23,Q,1,2,"app-employees-card",10),r()),e&2&&(y(16),m("ngClass",n.isListView?"":"active"),y(3),m("ngClass",n.isListView?"active":""),y(3),S(n.isListView?22:23))},dependencies:[A,z,L,I,H,j,R,J,T,k,D,V],styles:[".container[_ngcontent-%COMP%]{padding:1.5rem 2rem}.title[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:1rem;background-color:#024988;color:#f0eeee;font-size:1.25rem;gap:.5rem;padding:.5rem;font-weight:500}.search-container[_ngcontent-%COMP%]{display:flex}.search-field[_ngcontent-%COMP%]{width:94%;margin-right:.5rem}.input-field[_ngcontent-%COMP%]{width:100%}.view-controls[_ngcontent-%COMP%]{width:6%;display:flex;flex-direction:column;align-items:center}.views-label[_ngcontent-%COMP%]{font-size:1rem;font-weight:500;color:#025dad}.view-buttons[_ngcontent-%COMP%]{display:flex;gap:.25rem;color:#025dad}.view-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;border:none;background-color:transparent;cursor:pointer}.active[_ngcontent-%COMP%]{background-color:#cecece}@media (max-width: 480px){.container[_ngcontent-%COMP%]{padding:1rem 1.75rem}.title[_ngcontent-%COMP%]{font-size:.875rem;padding:.25rem;gap:.25rem}.search-field[_ngcontent-%COMP%]{width:80%}.view-controls[_ngcontent-%COMP%]{width:20%}.views-label[_ngcontent-%COMP%]{font-size:.875rem}}@media (min-width: 481px) and (max-width: 768px){.container[_ngcontent-%COMP%]{padding:1rem 1.5rem}.title[_ngcontent-%COMP%]{font-size:1rem;padding:.25rem;gap:.25rem}.search-field[_ngcontent-%COMP%]{width:89%}.view-controls[_ngcontent-%COMP%]{width:11%}.views-label[_ngcontent-%COMP%]{font-size:.875rem}}@media (min-width: 769px) and (max-width: 1024px){.container[_ngcontent-%COMP%]{padding:1.25rem 1.5rem}.title[_ngcontent-%COMP%]{font-size:1rem;padding:.5rem;gap:.5rem}.search-field[_ngcontent-%COMP%]{width:90%}.view-controls[_ngcontent-%COMP%]{width:10%}.views-label[_ngcontent-%COMP%]{font-size:.875rem}}"]});let i=t;return i})();export{xe as EmployeesComponent};
