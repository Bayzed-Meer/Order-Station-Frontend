import{a as rt}from"./chunk-NADLF5OP.js";import{a as ot}from"./chunk-XZKW2XKR.js";import{a as N}from"./chunk-AB2WVV2A.js";import"./chunk-SAWTMHJN.js";import{a as B,b as F,c as q,d as V,e as G,f as J,g as K,h as L,i as W,j as X,k as Y,l as Z,m as tt,n as h,o as et,p as y,q as nt,r as it}from"./chunk-OE7TMH5F.js";import"./chunk-DQVMZKPK.js";import{Fa as U,Ga as j,ga as k,u as E}from"./chunk-VPTYPPTQ.js";import{Ab as i,Ac as z,Bb as n,Cb as g,Cc as $,D as v,Db as d,Eb as l,Lb as R,Pb as M,Qb as x,Rb as S,Tb as o,Ub as c,Vb as A,W as O,Wa as a,Xb as I,Yb as Q,Zb as P,_b as b,da as _,ha as w,p as H,pb as m,qb as T,rb as u,za as D}from"./chunk-BTNHTO55.js";var at=()=>[5,10,25];function mt(t,e){t&1&&(i(0,"th",21),o(1,"Username"),n())}function dt(t,e){if(t&1&&(i(0,"td",22),o(1),n()),t&2){let r=e.$implicit;a(),c(r.username||"-")}}function lt(t,e){t&1&&(i(0,"th",21),o(1,"ID"),n())}function ct(t,e){if(t&1&&(i(0,"td",22),o(1),n()),t&2){let r=e.$implicit;a(),c(r.employeeID||"-")}}function pt(t,e){t&1&&(i(0,"th",21),o(1,"Tea Quantity"),n())}function st(t,e){if(t&1&&(i(0,"td",22),o(1),n()),t&2){let r=e.$implicit;a(),c(r.teaQuantity||"-")}}function ft(t,e){t&1&&(i(0,"th",23),o(1,"Tea Amount"),n())}function ut(t,e){if(t&1&&(i(0,"td",22),o(1),n()),t&2){let r=e.$implicit;a(),c(r.teaAmount||"-")}}function Ct(t,e){t&1&&(i(0,"th",21),o(1,"Coffee Quantity"),n())}function _t(t,e){if(t&1&&(i(0,"td",22),o(1),n()),t&2){let r=e.$implicit;a(),c(r.coffeeQuantity||"-")}}function gt(t,e){t&1&&(i(0,"th",23),o(1,"Coffee Amount"),n())}function ht(t,e){if(t&1&&(i(0,"td",22),o(1),n()),t&2){let r=e.$implicit;a(),c(r.coffeeAmount||"-")}}function yt(t,e){t&1&&(i(0,"th",23),o(1,"Notes"),n())}function Ot(t,e){if(t&1&&(i(0,"td",22),o(1),n()),t&2){let r=e.$implicit;a(),c(r.notes||"-")}}function Mt(t,e){t&1&&(i(0,"th",21),o(1,"Room Number"),n())}function xt(t,e){if(t&1&&(i(0,"td",22),o(1),n()),t&2){let r=e.$implicit;a(),c(r.roomNumber||"-")}}function St(t,e){t&1&&(i(0,"th",21),o(1,"Created At"),n())}function Pt(t,e){if(t&1&&(i(0,"td",22),o(1),P(2,"timesAgo"),n()),t&2){let r=e.$implicit;a(),c(b(2,1,r.createdAt))}}function bt(t,e){t&1&&(i(0,"th",21),o(1,"Order Status"),n())}function Et(t,e){if(t&1&&(i(0,"td",22),o(1),P(2,"titlecase"),n()),t&2){let r=e.$implicit;a(),A(" ",b(2,1,r.orderStatus)," ")}}function Ht(t,e){if(t&1&&(i(0,"tr",24)(1,"td")(2,"div",25)(3,"mat-icon"),o(4,"search_off"),n(),i(5,"div"),o(6,"No order history found"),n()()()()),t&2){let r=R();a(),T("colspan",r.displayedColumns.length)}}function vt(t,e){t&1&&g(0,"tr",26)}function wt(t,e){t&1&&g(0,"tr",27)}var Yt=(()=>{let e=class e{constructor(){this.orderService=_(ot),this.authService=_(N),this.destroyRef=_(D),this.role="",this.displayedColumns=[],this.dataSource=new tt}ngOnInit(){this.checkRole(),this.setUpTableColumn(),this.getOderHistory()}setUpTableColumn(){this.displayedColumns=this.role!=="employee"?["username","id","teaQuantity","teaAmount","coffeeQuantity","coffeeAmount","notes","roomNumber","createdAt","orderStatus"]:["teaQuantity","teaAmount","coffeeQuantity","coffeeAmount","notes","roomNumber","createdAt","orderStatus"]}checkRole(){this.authService.getRole().pipe(O(p=>this.role=p),E(this.destroyRef)).subscribe()}getOderHistory(){this.orderService.getOrderHistory().pipe(O(p=>{this.dataSource.data=p}),v(p=>(console.log(p),H([]))),E(this.destroyRef)).subscribe()}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}};e.\u0275fac=function(s){return new(s||e)},e.\u0275cmp=w({type:e,selectors:[["app-order-history"]],viewQuery:function(s,f){if(s&1&&(M(h,5),M(y,5)),s&2){let C;x(C=S())&&(f.paginator=C.first),x(C=S())&&(f.sort=C.first)}},standalone:!0,features:[I],decls:41,vars:5,consts:[[1,"container"],[1,"title"],[1,"table-container"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","username"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","id"],["matColumnDef","teaQuantity"],["matColumnDef","teaAmount"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","coffeeQuantity"],["matColumnDef","coffeeAmount"],["matColumnDef","notes"],["matColumnDef","roomNumber"],["matColumnDef","createdAt"],["matColumnDef","orderStatus"],["class","no-data-row",4,"matNoDataRow"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page of orders",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],[1,"no-data-row"],[1,"no-data-content"],["mat-header-row",""],["mat-row",""]],template:function(s,f){s&1&&(i(0,"div",0)(1,"div",1)(2,"mat-icon"),o(3,"history"),n(),o(4," Order History"),n(),i(5,"div",2)(6,"table",3),d(7,4),m(8,mt,2,0,"th",5)(9,dt,2,1,"td",6),l(),d(10,7),m(11,lt,2,0,"th",5)(12,ct,2,1,"td",6),l(),d(13,8),m(14,pt,2,0,"th",5)(15,st,2,1,"td",6),l(),d(16,9),m(17,ft,2,0,"th",10)(18,ut,2,1,"td",6),l(),d(19,11),m(20,Ct,2,0,"th",5)(21,_t,2,1,"td",6),l(),d(22,12),m(23,gt,2,0,"th",10)(24,ht,2,1,"td",6),l(),d(25,13),m(26,yt,2,0,"th",10)(27,Ot,2,1,"td",6),l(),d(28,14),m(29,Mt,2,0,"th",5)(30,xt,2,1,"td",6),l(),d(31,15),m(32,St,2,0,"th",5)(33,Pt,3,3,"td",6),l(),d(34,16),m(35,bt,2,0,"th",5)(36,Et,3,3,"td",6),l(),m(37,Ht,7,1,"tr",17)(38,vt,1,0,"tr",18)(39,wt,1,0,"tr",19),n(),g(40,"mat-paginator",20),n()()),s&2&&(a(6),u("dataSource",f.dataSource),a(32),u("matHeaderRowDef",f.displayedColumns),a(),u("matRowDefColumns",f.displayedColumns),a(),u("pageSizeOptions",Q(4,at)))},dependencies:[Z,B,q,K,V,F,L,G,J,W,X,Y,it,y,nt,et,h,j,U,k,z,$,rt],styles:[".container[_ngcontent-%COMP%]{padding:1.5rem 2rem}.title[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:1rem;background-color:#024988;color:#f0eeee;font-size:1.25rem;padding:.5rem;gap:.5rem;font-weight:500}.table-container[_ngcontent-%COMP%]{box-shadow:0 .5rem 1rem #0000001a;padding:1rem;background-color:#fff}.table-container[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#024988;color:#fff}.table-container[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem}.table-container[_ngcontent-%COMP%]   mat-paginator[_ngcontent-%COMP%]{color:#000}.no-data-row[_ngcontent-%COMP%]   .no-data-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:.25rem;font-size:1.25rem;font-weight:500;color:#025dad}@media (max-width: 480px){.container[_ngcontent-%COMP%]{padding:1rem 1.75rem}.title[_ngcontent-%COMP%]{margin-bottom:.5rem;font-size:.875rem;padding:.25rem;gap:.25rem}.table-container[_ngcontent-%COMP%]{padding:.5rem;overflow-x:auto}.table-container[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table-container[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:.75rem;padding:.5rem}.table-container[_ngcontent-%COMP%]   mat-paginator[_ngcontent-%COMP%]{font-size:.625rem}}@media (min-width: 481px) and (max-width: 768px){.container[_ngcontent-%COMP%]{padding:1.5rem}.title[_ngcontent-%COMP%]{margin-bottom:.75rem;font-size:1rem;padding:.25rem;gap:.5rem}.table-container[_ngcontent-%COMP%]{padding:.75rem;overflow-x:auto}.table-container[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table-container[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:.75rem;padding:.5rem}.table-container[_ngcontent-%COMP%]   mat-paginator[_ngcontent-%COMP%]{font-size:.625rem}}@media (min-width: 769px) and (max-width: 1024px){.container[_ngcontent-%COMP%]{padding:1.5rem}.title[_ngcontent-%COMP%]{margin-bottom:.75rem;font-size:1rem;padding:.25rem;gap:.5rem}.table-container[_ngcontent-%COMP%]{padding:.75rem;overflow-x:auto}.table-container[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table-container[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:.75rem;padding:.5rem}.table-container[_ngcontent-%COMP%]   mat-paginator[_ngcontent-%COMP%]{font-size:.75rem}}"]});let t=e;return t})();export{Yt as OrderHistoryComponent};
